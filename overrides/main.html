{% extends "base.html" %}

{% block content %}
{% if page.nb_url %}
    <a href="https://colab.research.google.com/github/{{ config.extra.vars.github_repository }}/blob/{{ config.extra.vars.ci_branch }}/{{ config.extra.vars.notebooks_dir }}/{{ page.nb_url.split('/') | last }}" title="Open in Google Colab" class="md-content__button md-icon">
        {% include ".icons/google-colab.svg" %}
    </a>
    <!--- href="{{ page.nb_url }}" doesn't work for easyscience.github.io as generates
    https://easyscience.github.io/lib/tutorials/TUTORIAL/TUTORIAL.ipynb instead of
    https://easyscience.github.io/diffraction-lib/tutorials/TUTORIAL/TUTORIAL.ipynb
    So, let's use the links to the gh_pages branch.
    Last to parts of the tutorial path are extracted from page.nb_url
    using Jinja: {{ page.nb_url.split('/')[-2:]
    --->
    <a href="https://raw.githubusercontent.com/easyscience/diffraction-lib/gh_pages/tutorials/{{ page.nb_url.split('/')[-2:] | join('/') }}" title="Download Notebook" class="md-content__button md-icon">
        {% include ".icons/material/download.svg" %}
    </a>
{% endif %}

{{ super() }}
{% endblock content %}
